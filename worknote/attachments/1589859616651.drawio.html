<div>
  <div class="xsj_drawio_svg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100%" height="100%" viewBox="-0.5 -0.5 571 841" viewbox="0 0 571 841" class="xsj_svg_viewbox" style="max-width: 571px; max-height: 841px;"><defs></defs><g><path d="M 75 60 L 75 113.63" fill="none" stroke="#82b366" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 75 118.88 L 71.5 111.88 L 75 113.63 L 78.5 111.88 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"></path><rect x="15" y="0" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"></rect><g transform="translate(53.5,23.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="42" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 44px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">WEB UI</div></div></foreignObject></switch></g><path d="M 135 150 L 288.63 150" fill="none" stroke="#82b366" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 293.88 150 L 286.88 153.5 L 288.63 150 L 286.88 146.5 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"></path><path d="M 105 120 L 105 66.37" fill="none" stroke="#3399ff" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 105 61.12 L 108.5 68.12 L 105 66.37 L 101.5 68.12 Z" fill="#3399ff" stroke="#3399ff" stroke-miterlimit="10" pointer-events="none"></path><path d="M 75 180 L 74.97 206.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 74.96 211.88 L 71.47 204.88 L 74.97 206.63 L 78.47 204.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"></path><rect x="15" y="120" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"></rect><g transform="translate(27.5,143.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="94" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 94px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">StrategyMessage</div></div></foreignObject></switch></g><path d="M 295 165.6 L 141.37 165.02" fill="none" stroke="#3399ff" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 136.12 165 L 143.13 161.53 L 141.37 165.02 L 143.1 168.53 Z" fill="#3399ff" stroke="#3399ff" stroke-miterlimit="10" pointer-events="none"></path><path d="M 295 134.41 C 295 133.57 298.15 132.71 302.66 132.12 C 318.61 130 347.75 130.4 359.95 132.52 C 361.9 132.89 364.85 133.48 365 134.44 L 365 136.12 C 365 137.47 359.03 138.35 354.45 138.83 C 338.69 140.42 317.43 140.15 304.93 138.76 C 301.79 138.44 295 137.49 295 136.19 Z M 365 165.5 C 365 166.59 360.95 167.37 357.06 167.89 C 338.5 169.96 315.96 169.51 302.32 167.8 C 298.66 167.31 295 166.52 295 165.52 L 295 137.49 C 295.15 138.78 301.08 139.61 303.73 139.93 C 316.43 141.46 339.72 141.74 355.35 140.04 C 359.13 139.6 365 138.76 365 137.4 Z" fill="#2e73b8" stroke="none" pointer-events="none"></path><path d="M 305.6 137.15 C 318.35 138.49 336.81 138.76 354.23 137.18 C 360.38 136.5 365 135.66 365 134.44 L 365 136.12 C 365 137.47 359.05 138.35 354.45 138.83 C 338.71 140.42 317.48 140.15 304.93 138.76 C 301.79 138.44 295 137.5 295 136.19 L 295 134.41 C 295 135.65 300.05 136.56 305.6 137.15 Z M 365 163.84 L 365 165.5 C 365 166.59 360.95 167.37 357.06 167.89 C 338.52 170 315.98 169.5 302.32 167.8 C 298.64 167.3 295 166.52 295 165.52 L 295 163.85 C 295 165.09 299.86 165.85 303.58 166.34 C 315.49 167.83 339.44 168.27 355.94 166.39 C 358.83 166.02 365 165.22 365 163.84 Z" fill-opacity="0.3" fill="#000000" stroke="none" pointer-events="none"></path><rect x="295" y="130" width="0" height="0" fill="none" stroke="#000000" pointer-events="none"></rect><path d="M 307.61 162.93 L 307.61 145.94 L 323.11 145.94 L 330 157.28 L 336.91 145.94 L 352.48 145.94 L 352.48 162.93 L 342.69 162.93 L 342.69 149.73 L 334.02 162.93 L 326 162.93 L 317.33 149.77 L 317.33 162.93 Z" fill="#ffffff" stroke="none" pointer-events="none"></path><path d="M 74.96 273 L 74.97 284.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 74.97 289.88 L 71.47 282.88 L 74.97 284.63 L 78.47 282.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"></path><rect x="8" y="210" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"></rect><g transform="translate(45.5,233.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="44" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 46px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">Strategy<br></div></div></foreignObject></switch></g><path d="M 75 543 L 75 573.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 75 578.88 L 71.5 571.88 L 75 573.63 L 78.5 571.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"></path><rect x="15" y="483" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"></rect><g transform="translate(43.5,506.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="62" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 64px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">NodeGroup<br></div></div></foreignObject></switch></g><path d="M 75 351 L 75 373.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 75 378.88 L 71.5 371.88 L 75 373.63 L 78.5 371.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"></path><rect x="15" y="291" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"></rect><g transform="translate(28.5,314.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="92" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 94px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">StrategyManager<br></div></div></foreignObject></switch></g><path d="M 75 440 L 75 476.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 75 481.88 L 71.5 474.88 L 75 476.63 L 78.5 474.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"></path><rect x="15" y="380" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"></rect><g transform="translate(55.5,403.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="38" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 38px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">Trigger</div></div></foreignObject></switch></g><path d="M 75 640 L 75 673.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 75 678.88 L 71.5 671.88 L 75 673.63 L 78.5 671.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"></path><rect x="15" y="580" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"></rect><g transform="translate(17.5,603.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="114" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 116px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">ClusterTriggerControl</div></div></foreignObject></switch></g><path d="M 75 740 L 75 773.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"></path><path d="M 75 778.88 L 71.5 771.88 L 75 773.63 L 78.5 771.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"></path><rect x="0" y="680" width="150" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"></rect><g transform="translate(29.5,703.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="90" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 90px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">TriggerController<br></div></div></foreignObject></switch></g><rect x="15" y="780" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"></rect><g transform="translate(30.5,803.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="88" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 88px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">InstanceHandler</div></div></foreignObject></switch></g><g transform="translate(143.5,313.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="352" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">每个集群一个线程调用Strategy的exec()，根据Strategy构造Trigger<br></div></div></foreignObject></switch></g><g transform="translate(143.5,333.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="337" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">exec()的本质就是判断集群资源情况，添加Trigger到NodeGroup</div></div></foreignObject></switch></g><g transform="translate(151.5,597.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="402" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">每个集群一个线程池，每个实例类型（TASK,CORE,SERVER,MASTER）：<br>对应一个TriggerController线程，对应一个NodeGroup的一个类型</div></div></foreignObject></switch></g><g transform="translate(181.5,704.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="330" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">这里执行线程，轮询NodeGroup中对应的Trigger,执行资源伸缩</div></div></foreignObject></switch></g><g transform="translate(168.5,803.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="192" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">具体执行底层机器节点的添加和移除</div></div></foreignObject></switch></g><g transform="translate(142.5,411.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="290" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Trigger的含义就是一次触发伸缩的动作，包含要操作的<br>数量，增加或者减少的动作</div></div></foreignObject></switch></g></g></svg></div>
  <div class="xsj_drawio_xml" style="display:none;">&lt;mxfile userAgent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.116 Safari/537.36" version="8.5.3" editor="www.draw.io" type="device"&gt;&lt;diagram&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;</div>
</div>